
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>    設定
</title>
        <!-- CSRF Token -->
        <meta name="csrf-token" content="powVnjHuUlMW4anTkiBxgh52SsVPVEo298w2Nb4V">
        <link rel="shortcut icon" type="image/png" href="./common/img/favicon.png" id="favicon" data-original-href="./common/img/favicon.png">
        <!-- Styles -->
        <!-- Google Font: Source Sans Pro -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="./common/plugins/fontawesome-free/css/all.min.css">
        <!-- Theme style -->
        <link rel="stylesheet" href="./common/dist/css/adminlte.min.css">
        <!-- Custom style -->
        <link rel="stylesheet" href="./common/css/styles.css">
            <link rel="stylesheet" href="./common/plugins/daterangepicker/daterangepicker.css">
    <!-- cropperjs-->
    <link rel="stylesheet" href="./common/plugins/cropperjs/cropper.css">
    </head>
    <body>
        <div class="wrapper">
            <!-- Nav bar -->
            

            <!-- Main Sidebar Container -->
            

            <!-- Content Wrapper. Contains page content -->
            <div class="bg-header h-110">
    <div class="container">
        <div class="row mr-0 d-flex align-items-center pt-2" style="margin: 15px 0px 15px;">
            <div class="col-6 col-lg-4">
                <a href="http://35.78.46.159" type="button">
                    <img src="./common\images\logo.png" class="" width="150" alt="">
                </a>
            </div>
            <div class="col-lg-8 col-6 text-right ml-auto">
                <a href="./settings" class="text-danger setting-btn" type="button">
                    <span class="fas fa-user-circle"></span>
                    <p class="mb-0">設定</p>
                </a>
            </div>
        </div>
  
        
    </div>
  </div>
  
    <div class="container-fluid container-setting" style="max-width: 982px">
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6 col-12 header-title d-flex">
                        <a href="http://35.78.46.159"><i class="fas fa-arrow-left"></i></a>
                        <h1>アカウント設定 </h1>
                    </div>
                    <div class="col-sm-6 col-10 header-link">
                        <ol class="breadcrumb float-sm-right ">
                            <li class="breadcrumb-item active"><a
                                    href="http://35.78.46.159">一覧画面</a></li>
                            <li class="breadcrumb-item">アカウント設定 </li>
                        </ol>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>
        <form method="POST">
            <input type="hidden" name="_token" value="powVnjHuUlMW4anTkiBxgh52SsVPVEo298w2Nb4V">
            <div class="card">
                <div class="card-body">
                    <div class="row mb-2 ">
                        <div class="col-md-3 col-12">
                            <p>名前（姓/名）<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-4 offset-md-1 col-6 form-group">
                            <input type="text" name="name" class="form-control form-control-sm " value="">
                        </div>
                        <div class="col-md-4 col-6 form-group">
                            <input type="text" name="name" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>フリガナ（セイ/メイ）<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-4 col-6 offset-md-1 form-group">
                            <input type="text" name="name" class="form-control form-control-sm " value="">
                        </div>
                        <div class="col-md-4 col-6 form-group">
                            <input type="text" name="name" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>所属<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <select class="form-control form-control-sm" name="department" aria-invalid="false">
                                                                    <option value="">取締役</option>
                                                                    <option value="">経営企画グルー</option>
                                                                    <option value="">浜松</option>
                                                                    <option value="">名古屋</option>
                                                                    <option value="">三河</option>
                                                                    <option value="">法人部</option>
                                                                    <option value="">取締役</option>
                                                                    <option value="">経営企画グルー</option>
                                                                    <option value="">浜松</option>
                                                                    <option value="">名古屋</option>
                                                                    <option value="">三河</option>
                                                                    <option value="">法人部</option>
                                                            </select>
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>メールアドレス<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="email" name="email" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>ID<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="id" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>パスワード<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="password" name="password" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>パスワード（確認）<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="password" name="new_password_confirmation"
                                   class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>趣味<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="interests" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>夢<span class="text-red">*</span></p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="dreams" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>出身地</p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="birthplace" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>誕生日</p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="birthday"
                                   class="form-control form-control-sm datetimepicker-input "
                                   autocomplete="off"
                                   id="date"
                            >
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>特技</p>
                        </div>
                        <div class="col-md-8 col-12  offset-md-1 form-group">
                            <input type="text" name="skill" class="form-control form-control-sm " value="">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-3 col-12">
                            <p>プロフィール写真</p>
                        </div>
                        <div class="col-md-4 col-12 offset-md-1 form-group user-img">
                            <img class="mw-100 bg-light" src="./common\images\default-avatar.png" id="imgProfile" alt="">
                            <input type="file" name="imgProfile" id="upload_img_1" class="d-none">
                            <button type="button" class="btn m-2 btn-custom-color " data-toggle="modal" data-target="#uploadImgModal">アップロード</button>
                            
                        </div>
                        <div class="col-12 d-block d-sm-none">
                            <p>プロフィール画像写真（サブ）</p>
                        </div>
                        <div class="col-md-4 col-12 form-group user-img">
                            <img class="mw-100 bg-light" src="./common\images\default-avatar.png" id="imgSubProfile" alt="">
                            <input type="file" name="imgSubProfile" id="upload_img_2" class="d-none">
                            <button type="button" class="profile-img btn btn-custom-color m-2 mw-100" data-index="0">アップロード</button>
                        </div>
                    </div>

                </div>
                <div class="card-footer bg-white">
                    <div class="row">
                        <div class="col-12 d-flex  justify-content-center">
                            <a href="#" type="button" id="cancelButton" class="btn btn-custom-outline-color mw-150 mx-2 ">キャンセル</a>
                            <button type="button" id="createButton" onclick="onConfirmEdit()"
                                    class="btn btn-primary btn-custom-color btn-setting mw-150 mx-2">確認
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal -->
            <div class="modal fade user-upload_modal" id="uploadImgModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body mx-auto">
                            <div class="mx-auto">
                                <img class="w-100 upload-img bg-light" id="modalImgUpload" src="./common\images\default-avatar.png" alt="">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <!-- Upload img with btn -->
                            <button type="button" class="btn bg-secondary" id="upload-profile-img"> 写真を選択する</button>
                            
                            <button type="button" class="btn btn-primary d-none" id="submit-crop">決定する</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>


            <!-- /.content-wrapper -->
        </div>
        <!-- ./wrapper -->
        <!-- jQuery -->
        <script src="./common/plugins/jquery/jquery.min.js"></script>
                <!-- AdminLTE App -->
        <script src="./common/dist/js/adminlte.js"></script>
        <!-- Bootstrap 4 -->
        <script src="./common/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
            <!-- datepicker -->
    <script src="./common/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- cropperjs-->
    <script src="./common/plugins/cropperjs/cropper.js"></script>
    <script src="./common/plugins/jquery-cropper/jquery-cropper.js"></script>
            <script>

        function destroyCropper() {
            //set src default
            var $image = $('#modalImgUpload');
            $image.cropper('destroy');
            var imgDefault = './common/images' + '/default-avatar.png';
            $('#modalImgUpload').attr('src', imgDefault);
            $('#submit-crop').addClass('d-none');
        }
        // on click button upload-profile-img set value for input file and set img for upload-img
        $('#upload-profile-img').on('click', function () {
            $('#upload_img_1').click();
            $('#upload_img_1').on('change', function () {
                var file = this.files[0];
                var reader = new FileReader();
                //createObjectURL
                var url = URL.createObjectURL(file);
                $('#modalImgUpload').attr('src', url);     

                //change src img cropper-canvas
                var $image = $('#modalImgUpload');
                $image.cropper('replace', url);
                var $image = $('#modalImgUpload');
    
                $image.cropper({
                aspectRatio: 1 / 1,
                maxCropBoxWidth: 200,
                autoCropArea: 0.5,
                viewMode:3,
                });
                //show button submit-crop
                $('#submit-crop').removeClass('d-none');

            });
        });

    
        //click button submit-crop then get data crop and set for img
        $('#submit-crop').on('click', function () {
            var $image = $('#modalImgUpload');
            var croppedCanvas = $image.cropper('getCroppedCanvas');
            var croppedImageDataURL = croppedCanvas.toDataURL("image/png");
            $('#imgProfile').attr('src', croppedImageDataURL);
            //set value for input file
            // $('#upload_img_1').val(croppedImageDataURL);
            //close modal
            $('#uploadImgModal').modal('hide');
        });
        //close modal destroy cropper
        $('#uploadImgModal').on('hidden.bs.modal', function () {
            destroyCropper();
        });



    </script>
    </body>
</html>
